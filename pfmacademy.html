<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- 
  <meta http-equiv="cache-control" content="no-cache, must-revalidate, post-check=0, pre-check=0" />
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="expires" content="-1" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
  -->
  <title>PFM Academy Management</title>
  <!-- <link rel="stylesheet" href="css/datatables.min.css"> -->
  <link rel="stylesheet" href="css/datatables.css">
  <link rel="stylesheet" href="css/pfmacss.css">
  <link rel="stylesheet" href="css/c3.css">
  <script src="js/jquery-3.2.1.js"></script>
  <script src="js/datatables.min.js"></script>
  <script src="js/pfmajs.js"></script>
  <script src="js/d3.v4.min.js"></script>
  <script src="js/c3.js"></script>
  <script src="js/pfm_charts.js"></script>
  <script src="js/courses.js"></script>
  <script src="js/curriculum.js"></script>


</head>
<body>
  <div id="whole-page">
    <div id="main-heading" >
      <img src="images/pf-logo.png" alt="Prison Ministry Logo" id="mainlogo">
      <span>
        <h2>
          Prison Fellowship Ministry - Academy Management
        </h2>
      </span>
    </div>

    <div id="allcontent">
      <div class="l-sidebar">
        <!-- <button class="left-menu" id="acadmgt" value="acadmgt" onclick="selecttopsection(this)">Academy Management</button>
        <button class="left-menu" id="acaddash" value="acaddash" onclick="selecttopsection(this)">Dashboards</button>
        <button class="left-menu" id="acadrpts" value="acadrpts" onclick="selecttopsection(this)">Reports</button>
        <button class="left-menu" id="acadspec" value="acadspec" onclick="selecttopsection(this)">Special</button> -->
        <div>
          <button class="left-menu" id="acadmgt" value="acadmgt" onclick="selecttopsection(this)">Academy Management</button>
          <button class="left-menu" id="acaddash" value="acaddash" onclick="selecttopsection(this)">Dashboards</button>
          <button class="left-menu" id="acadrpts" value="acadrpts" onclick="selecttopsection(this)">Reports</button>
          <button class="left-menu" id="acadspec" value="acadspec" onclick="selecttopsection(this)">Other...</button>
        </div>
        <div class='link-area'>
          <div>
            <label style='padding-left: 0'><strong>Quick Links</strong></label>
          </div>
          <div>
            <a href=''>PFM Home page</a>
          </div>
          <div>
            <button class='btn-small' style='margin-top: 20px' onclick="">Edit</button>
          </div>
        </div>
      </div>

      <div id="maindiv">
        <!-- This is the Academy Management Div -->
        <div class="academy-mgmt-sect content-sect hidediv">
          <div id="am-topmenu">
            <button class="tablinks" id="courses" value="courses" onclick="allnavclick(this)">Courses</button>
            <button class="tablinks" id="curriculums" value="curriculums" onclick="allnavclick(this)">Curriculums</button>
            <button class="tablinks" id="surveys" value="surveys" onclick="allnavclick(this)">Surveys/Tests</button>
            <button class="tablinks" id="misc" value="misc" onclick="allnavclick(this)">System Administration</button>
            <!-- <button class="tablinks" id="aboutapi" value="api_info" onclick="allnavclick(this)">API Info</button> -->
          </div>

          <div id="am-contents">
            <div class="courses-disp mainzone-sel hidediv">

                <div class="courses-all-list hidediv">
                  <!-- hard lesson learned, need to use 'class defs if want to use class 'hidediv' to control visibility
                  because if we use ids and set properties of those ids, the hidediv class will not override settings -->
                  <div class="course-list-wrap">
                    <table id="course-list-tbl" class="cell-border">          
                    </table>
                  </div>
                  <div id='course-status-info'>
                    <p>Start Date: </p>
                    <p>Units Performed: </p>
                    <p>Unites Late: </p>
                    <p>Schedule Elapsed: </p>
                  </div>
                  <div id='roster-list-wrap'>
                    <table id='roster-list-tbl'>
                    </table>
                  </div>
                  <div>
                    <button id="roster-vias" class='btn-standard'>VIAs</button>
                    <button id="roster-1on1" class='btn-standard'>1 on 1's</button>
                  </div>
                </div>
            
                <!-- This display is just for 1 course -->
                  <div class="course-container">
                    <div class='course-tracking one-course-pages'>
                      <div class='course-detail-sel'>
                        <h3 id='course-detail-title' style="margin: 5px 0px 2px 0px">Facility: Saint Brides Correctional Center [PFM] / Course: Spring-2019</h3>
                        <div style="margin: 5px 0px 2px 20px">
                          <select>
                            <option value='prep week'>Prep Week</option>
                            <option value='qtr view' selected>Quarterly View</option>
                            <option value='week view'>Weekly View</option>
                          </select>
                        </div>
                      </div>
                      <div class='course-detail-and-stats'>
                        <div class='course-detail-list-wrap'>
                          <table id='course-detail-list-tbl'>
                          </table>
                        </div>
                        <div class='course-detail-stats stat-section'>
                          <p>Current week: 11 (2019-09-09)</p>
                          <button class='btn-standard' id='btn-edit-week' onclick="course_edit_data(17,11)">Edit Current Week</button>
                          <p>Unit Tracking: 0 due</p>
                          <p>Enrollment: 40</p>
                          <p>Total VIAs: 8</p>
                          <p>Total 1 on 1's performed: 10</p>
                        </div>
                      </div>
                      <div class="course-detail-roster">
                        <div class="detail-roster-list-wrap space-right">
                          <h3>Enrollment Roster</h3>
                          <table id='detail-roster-list-tbl'></table>
                        </div>
                        <div class="detail-roster-1on1">
                          <div style='display: flex; flex-flow: row wrap'>
                            <h3>1 on 1's</h3>
                            <button class='btn-small' style='margin-left: 5px'>Edit</button>
                          </div>
                          <div id='name1o1'>
                            Click on an attendee for data
                          </div>
                          <div class='samp1o1 hidediv'>
                            <table>
                              <thead>
                                <th></th>
                              </thead>
                              <tbody>
                                <tr>
                                  <td><div class='gridcell'><strong>2019-04-01</strong><br>
                                    <p>The ipso factorum sample text that does not mean anything 
                                        but is simply taking up the region of the screen to show
                                        samples of information that might be useful to see 
                                        and understand function and format/layout.
                                    </p></div>
                                  </td>
                                </tr>
                                <tr>
                                  <td><div class='gridcell'><strong>2019-07-01</strong><br>
                                    <p>The ipso factorum sample text that does not mean anything 
                                        but is simply taking up the region of the screen to show
                                        samples of information that might be useful to see 
                                        and understand function and format/layout.
                                    </p></div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                
                        <div class="detail-roster-via">
                          <div style='display: flex; flex-flow: row wrap'>
                            <h3>VIAs</h3>
                            <button class='btn-small' style='margin-left: 5px'>Edit</button>
                          </div>
                          <div id='via1'>
                            Click on an attendee for data
                          </div>
                          <div class='viasamp hidediv'>
                          </div>
                        </div>
                
                      </div>
                    </div>
                    <div class='course-attendee one-course-pages hidediv'>
                    </div>
                  </div>
            </div>
            <div class="curriculums-disp mainzone-sel hidediv">

              <div id='curr-mgmt'>
                  <button class='btncurr-submenu submenu active' id='pick-curr-course' value='pick-curr-course' onclick="set_currsect(this)">Generate Course</button>
                  <button class='btncurr-submenu submenu' id='pick-curr-tmplt' value='pick-curr-tmplt' onclick="set_currsect(this)">Design Curriculum</button>
                  <button class='btncurr-submenu submenu' id='pick-curr-units' value='pick-curr-units' onclick="set_currsect(this)">Manage Units</button>
                  <button class='btncurr-submenu submenu' id='pick-curr-modules' value='pick-curr-modules' onclick="set_currsect(this)">Manage Modules</button>
              </div>
              <div id='curr-sections'>
          
                <div id='curr-sect-course' class='curr-item'>
                  <h2>This is the place where courses can be generated</h2>
                </div>
                <div class='curr-sect-tmplt curr-item hidediv'>
                    <h2>This is the place where curriculums are created and managed</h2>
                </div>
                <div class='curr-sect-modules curr-item hidediv'>
                  <button class="btn-standard" id="add-module" value="add-module">Add New Module</button>
                  --the list of module names would be below--
                </div>

                <div class='curr-sect-units curr-item hidediv'>
                  <h3>These are the units currently defined in the system</h3>
                  <button class="btn-standard" id="add-unit" value="add-unit">Add Unit</button>
                  <div id='unit-list-wrap'>
                    <table id='unit-list-tbl' class='cell-border'>
                    </table>
                  </div>
                </div>

              </div>


            </div>
            <div class="surveys-disp mainzone-sel">
              Surveys
            </div>
            <div class="misc-disp mainzone-sel hidediv">
              <div id='sysadmin-mgmt'>
                <button class='btnsys-submenu submenu active' id='pick-sys-user' value='pick-sys-user' onclick="set_syssect(this)">User Administration</button>
                <button class='btnsys-submenu submenu' id='pick-sys-facsteps' value='pick-sys-facsteps' onclick="set_syssect(this)">Facility Setup</button>
                <button class='btnsys-submenu submenu' id='pick-sys-facilities' value='pick-sys-facilities' onclick="set_syssect(this)">Manage Facilities</button>
              </div>
              <div id="sysadmin">
                <div class='sys-sect-users sys-item hidediv'>
                  <button class="btn-standard" id="add-user" value="add-user">Add User</button>
                  <div id='user-list-wrap'>
                    <table class="cell-border" id="user-list-tbl">
          
                    <!-- <table class="compact cell-border" id="user-list-tbl"> -->
                    <!-- note: classes assigned are probably within the datatable.css -->
                    </table>
                  </div>
                </div>
          
                <div class='sys-sect-facsteps sys-item hidediv'>
                  <button class="btn-standard" id="add-fac-task" value="add-fac-task">Add Setup Task</button>
                  --the tasks that track Facility building would be below--
                  <div id='facstepslistwrap'>
                    <table class="cell-border" id="facsetup-list-tbl">
          
                    <!-- <table class="compact cell-border" id="user-list-tbl"> -->
                    <!-- note: classes assigned are probably within the datatable.css -->
                    </table>
                  </div>
                </div>

                <div class='sys-sect-facilities sys-item hidediv'>
                  <button class="btn-standard" id="add-facility" value="add-facility">Add New Facility</button>
                  --list of existing facilities would be below--
                </div>

              </div>

            </div>
          </div>
        </div>
        <!-- End of the Academy Management Div -->

        <!-- This is the overall Dashboard div -->
        <div class="dashboard-sect content-sect">
          <div id='dash-overall-title'>
            <h3>Facility: Saint Brides Correctional Center [PFM] - currently reporting Week 10</h3>
          </div>
          <div class="dashb-part dsh-course">
            <div id="course-stats" class='dash-inner-content'>
              <p><strong>Course LEW 1906</strong></p>
              <p><strong>Started:</strong> 7/1/2019  <strong> Projected Graduation:</strong> 6/30/2020</p>
              <div id="chart_progress"></div>
            </div>
          </div>
          <div class="dashb-part dsh-attend">
            <div id="attendence-stats" class='dash-inner-content'>
              <h3>Unit attendance</h3>
              <p>Attendance to date by week</p>
              <!-- <p>Enrolled: 40</p>
              <p>Adds: 0</p>
              <p>Drops: 0</p> -->
              <div id="chart_attendance"></div>
            </div>
          </div>
          <div class="dashb-part dsh-via">
            <div class='dash-inner-content'>
              <h3>Values in Action (VIAs) given</h3>
              <div id="chart_via"></div>
              <p><em>Target: 2 VIAs per week</em></p>
            </div>
          </div>
          <div class="dashb-part dsh-1-1">
            <div class='dash-inner-content'>
              <h3>1 on 1's performed</h3>
              <div id="chart_1on1"></div>
              <p><em>Target: 2 sessions per month per participant</em></p>
            </div>
          </div>
        </div>

        <!-- The next div is the Reports div -->
        <div class="reports-sect content-sect hidediv">
          This section is for reporting needs - internal and external to PFM
        </div>



      </div>
    </div>

  </div>
  <!--  ---------------------------------- end of the main content divs ---------------------------------- -->
  <!--  these are divs for setting modal dialog messages. See the css for details -->

  <!-- the login overlay -->
  <div class='login-overlay'>
    <div class='login-content'>
      <div class='login-row'>
        <img src="images/pf-logo.png" alt="Prison Ministry Logo" id="mainlogo">
        <h2 class='space-down'>Prison Fellowship</h2>
      </div>
      <div class='login-row'>
        <h3>Academy Management System</h3></3>
      </div>
      <br>
      <br>
      <div class='login-entries'>
        <label for="login-name">Login ID:</label>
        <input type="text" name="login-name" id="login-name" class="inp-lrg"  placeholder="email@pfm.org" value="" autofocus>
        <br>
        <br>
        <label for="login-pswd">Password:</label>
        <input type="password" name="login-pswd" id="login-pswd" class="inp-lrg" value="">
      </div>
      <br>
      <br>
      <div class='login-row'>
        <button class="btn-standard btn-login" onclick="go_app()">Login</button>
      </div>
    </div>
  </div>
  <div id="modal-overlay" class="hidediv"></div>
  <div id="modal-overlay2" class="hidediv"></div>
  <div class="modal-dialog hidediv">
    <div id="modal-head">
      <div>
        <h2 id="m-hd-txt">Title of the Modal</h2>
      </div>
    </div>
    <div id="modal-body">
      <p>Just some sample stuff here</p>
    </div>
    <div id="modal-foot">
      <button class="btn-pops" onClick="modal_close()">Close</button>
    </div>
  </div>


  <!-- The week editing overlay (aka data entry of progress of units in a week) -->
  <div class='course-week-edit hidediv'>
    <div class='pop-win-title-line' id='course-edit-title-line'>
      <div id='course-week-edit-title' style='padding-left: 3px;'>
        Course Name:
      </div>
      <button title="Close Window" class='btn-min' onclick="week_edit_close()">X</button>
    </div>

  <!-- <div class='pop-win-title-line' id='course-week-edit-title'>
      <div id='course-week-edit-title' style="padding-left: 3px">Course Name: </div>
      <button class='btn-min' id='abcdefg' title="Close Window" onclick='week_edit_close()'>X</button>
    </div> -->
    <div style="margin-top: 27px">
      <div class='course-edit-wrapper1'>
        <div class='course-conduct' id='course-week-edit-conduct'>
          <div class='course-edit-tbl-wrap smaller-font'>
            <table class="cell-border" id='week-edit-table'>
            </table>
          </div>
          <div class='course-item-entry'>
            <input type='text' class='inp-sm hidevar' id='course-de-id' value=0>
            <div class='hidediv' id='course-chkbox-entry'>
              <input type='checkbox' id='course-de-done' onchange='course_de_change(this)'> Item is completed
            </div>
            <div id='course-hr-entry'>
              <label for='course-de-time'>Time Performed: </label>
              <input type='text' class='inp-xsm' id='course-de-time' onchange='course_de_change(this)'>
              <label> hrs</label>
            </div>
            <br>
            <br>
            <p class='label-line' id='course-de-label1' style='margin-top: 5px'>Comments:</p>
            <textarea class='gen-notes' id='course-de-comments' onchange='course_de_change(this)'></textarea>

          </div>
        </div>
      </div>
      <br>
      <div class='course-edit-bottom'>
        <div class='course-edit-attendance scroller' id='course-week-edit-attendance'>
          <h4 id='course-de-attend-title' style='margin: 0px 0px 2px 0px'>Attendance for unit ... </h3>
          <table class='cell-border compact' id='course-week-edit-attend'>
          </table>
        </div>
      </div>
      <div class='popup-footer hidediv'>
          <button class='edit-btn clr-yes' id='coursebtn-save'>Save</button>
          <button class='edit-btn clr-no' id='coursebtn-cancel' onclick="course_edit_cancel()">Cancel</button>
      </div>
    </div>
  </div>


  <!-- the user editing overlay -->

  <div class="user-edit popup-edit hidediv">

  </div>



  <!-- The attendee bio editing overlay -->

  <div class='bio-total hidediv'>
  </div>


  <!--  --------------------------------- end of the modal dialog divs --------------------------------- -->
</body>
<script>
	// set up global variables
	var service_def = 'acad_service.php';
  var chkstr = '(holds last api call)';
  var signals = {'startup': 1};
  var dataobj = {};
  dataobj.selected_course = 12;
  $(document).ready(function() {
    data_setup();
    // display the dashboard to start
    $("#acaddash").trigger('click');
  });
</script>

</html>

